### 卡尔曼滤波
重要的点：
1. 对需要进行滤波的数据需要进行建立状态转换模型。比如位置是否移动，速度是否发生变化
2. 预测状态的向量与测试值之间可能维数不同，比如预测值包含速度的预测，而测量值只有位置信息。此时需要进行project运算，将预测向量投射到测试值的空间，再进行测量值残差（Innovation）的运算

状态转换模型
$$A_k = A_{k-1} + V_{k-1} * t  \\ V_k = V_{k-1}$$


根据状态转换公式，设状态预测的矩阵motion_mat、预测值project的矩阵update_mat如下：
$$
motion\_mat = \begin{bmatrix}
  1 & 1 \\
  0 & 1
\end{bmatrix}
$$
$$
update\_mat = \begin{bmatrix}
  1 & 0
\end{bmatrix}
$$

设$ W_a = 1 / 2000 , W_v = 1/10000 $分别为测量值角度和角速度的权重。

### 汉明窗(Hamming window or Hanning window)
需要生成Hanning window只有一个n_fft的参数，即窗口大小。这样其实可以生成一次，重复使用。
```
Vectorf window = 0.5*(1.f-(Vectorf::LinSpaced(nFFT, 0.f, static_cast<float>(nFFT-1))*2.f*M_PI/nFFT).array().cos());
```
https://zhuanlan.zhihu.com/p/340686487